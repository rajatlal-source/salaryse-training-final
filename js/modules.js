const modules=[{day:1,title:"Day 1 Module",content:["Intro to SalarySe","STAR Framework","Opening Pitch"],quiz:[{q:"What is STAR?",options:["Framework","Card","App"],correct:0}]},{day:2,title:"Day 2 Module",content:["Objection Handling","Urgency Creation"],quiz:[{q:"How to handle objection?",options:["Ignore","Address","Argue"],correct:1}]},{day:3,title:"Day 3 Module",content:["Closing Techniques","Final Assessment"],quiz:[{q:"Best closing?",options:["Pushy","Consultative","Silent"],correct:1}]}];let curDay=parseInt(localStorage.getItem('currentDay')||'1');let idx=0;const cont=document.getElementById('moduleContainer');function render(){cont.innerHTML='';const m=modules.find(x=>x.day===curDay);if(idx<m.content.length){cont.innerHTML='<h2 class="text-xl">'+m.title+'</h2><p>'+m.content[idx]+'</p>';document.getElementById('nextBtn').classList.remove('hidden');}else{cont.innerHTML='<h2>Quiz</h2>'+m.quiz.map((q,i)=>'<p>'+q.q+'</p>'+q.options.map((o,j)=>'<button onclick="answer('+i+','+j+')">'+o+'</button>').join('')).join('');}}function next(){idx++;render();}function answer(i,j){const m=modules.find(x=>x.day===curDay);if(j===m.quiz[i].correct){alert('Correct! +100 XP');updateXP(100);}else alert('Wrong');window.location.href='dashboard.html';}function updateXP(x){let lb=JSON.parse(localStorage.getItem('leaderboard')||'[]');let empId=localStorage.getItem('empId');let p=lb.find(p=>p.id===empId);if(!p){p={id:empId,xp:0};lb.push(p);}p.xp+=x;localStorage.setItem('leaderboard',JSON.stringify(lb));}render();